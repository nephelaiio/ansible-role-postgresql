---
postgresql_release: 16
postgresql_package_state: present
postgresql_service_state: started
postgresql_service_enabled: true
postgresql_db_init: true
postgresql_db_path: /var/lib/postgresql
postgresql_user: postgres
postgresql_group: postgres

__postgresql_package_name:
  debian:
    - "postgresql-{{ postgresql_release }}"
    - "postgresql-client-{{ postgresql_release }}"
  redhat:
    - "postgresql{{ postgresql_release }}-server"
    - "postgresql{{ postgresql_release }}"
__postgresql_service_name:
  debian: "postgresql@{{ postgresql_release }}-main"
  redhat: "postgresql-{{ postgresql_release }}"
__postgresql_datadir: "/var/lib/postgresql/data"
__postgresql_config:
  data_directory: "{{ __postgresql_datadir }}"
  hba_file: "{{ __postgresql_datadir }}/pg_hba.conf"
  ident_file: "{{ __postgresql_datadir }}/pg_ident.conf"
__postgresql_bindir:
  redhat: "/usr/pgsql-{{ postgresql_release }}/bin"
  default: ""

__postgresql_os_search:
  - "{{ ansible_distribution | lower }}-{{ ansible_distribution_release | lower }}"
  - "{{ ansible_distribution | lower }}-{{ ansible_distribution_major_version }}"
  - "{{ ansible_distribution | lower }}"
  - "{{ ansible_os_family | lower }}"
  - "default"
