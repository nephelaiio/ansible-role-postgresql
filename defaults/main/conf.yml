---
postgresql_conf_manage: false
postgresql_conf_clean: true
postgresql_conf_wal_level: 'logical'
postgresql_conf_wal_keep_size: 32
postgresql_conf_wal_sender_timeout: 60000
postgresql_conf_max_wal_senders: 10
postgresql_conf_max_replication_slots: "{{ postgresql_conf_max_wal_senders | int + 10 }}"

postgresql_conf_archive_mode: 'always'
postgresql_conf_archive_command: 'cp %p {{ _postgresql_waldir }}/%f'

__postgresql_conf_main:
  redhat: "{{ postgresql_datadir }}/postgresql.conf"
  debian: "/etc/postgresql/{{ postgresql_release }}/main/postgresql.conf"
__postgresql_conf_pgaudit: 10-pgaudit.conf
__postgresql_conf_pgcron: 20-pgcron.conf
__postgresql_conf_pgstat_statements: 30-pgstat_statements.conf
__postgresql_conf_local: 70-local.conf
__postgresql_conf_standby: 80-standby.conf
__postgresql_conf_ansible: 90-ansible.conf
__postgresql_conf_exclude:
  - "{{ __postgresql_conf_pgaudit }}"
  - "{{ __postgresql_conf_pgcron }}"
  - "{{ __postgresql_conf_pgstat_statements }}"
  - "{{ __postgresql_conf_local }}"
  - "{{ __postgresql_conf_ansible }}"
  - "{{ __postgresql_conf_standby }}"
